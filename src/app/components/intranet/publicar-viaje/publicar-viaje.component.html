<section class="contenedor">
    <div class="form-container">
        <!-- Formulario de Publicación de Viaje -->
        <form [formGroup]="formStep1" *ngIf="currentStep === 1" (ngSubmit)="nextStep()">
            <h1 style="font-size: 25px;">Publicar viaje</h1>
            <div class="steps">
                <div class="step active">1</div>
                <div class="line"></div>
                <div class="step">2</div>
            </div>
            <div class="mb-6">
                <input #locationInput (click)="openMap1()"
                    class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                    id="location" type="text" placeholder="Ingresa ubicación" formControlName="location" required>

            </div>
            <div class="mb-6">
                <input #destinationInput (click)="openMap2()"
                    class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                    id="destination" type="text" formControlName="destination" placeholder="Ingresa destino" required>
                
            </div>
            <div class="pasajeros-pagar">
                <div class="passenger-container">
                    <div
                        class="centrado-vertical flex appearance-none bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
                        <span>Pasajeros</span>
                        <button id="decrement" class="btn" type="button" (click)="decreasePassengers()">&#8722;</button>
                        <span id="passenger-count">{{ formStep1.get('passengers')?.value }}</span>
                        <button id="increment" class="btn" type="button" (click)="increasePassengers()">&#43;</button>
                    </div>
                </div>
                <div class="pagar-container centrado-vertical">
                    <input
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="price" type="number" formControlName="price" placeholder="Precio" required>
                </div>
            </div>
            <div class="flex">
                <div class="fecha-salida w-full">
                    <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                        Fecha de salida
                    </label>
                    <input
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="fecha_salida" type="date" formControlName="date" required>
                </div>
                <div class="fecha-salida w-full md:w-1/2 px-3 mb-6 md:mb-0">
                    <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                        Hora de salida
                    </label>
                    <input
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="hora_salida" type="time" formControlName="time" required>
                </div>
            </div>
            <div>
                <button class="publicar-button" [disabled]="formStep1.invalid" style="margin-top: 30px;" type="submit">
                    Siguiente </button>
            </div>
            <div *ngIf="showMap1" class="map1">
                <div style="width: 100%;">
                    <button (click)="closeMap1()">x</button>
                </div>
                <p>Seleccione el lugar de su salida</p>
                <google-map height="400px" width="100%" [center]="originCenter" [zoom]="originZoom"
                    (mapClick)="onMapClick($event, 'origin')">
                    <map-marker *ngIf="originLocation" [position]="originLocation"></map-marker>
                </google-map>
            </div>
            <div *ngIf="showMap2" class="map1">
                <div style="width: 100%;">
                    <button (click)="closeMap2()">x</button>
                </div>
                <p>Seleccione el lugar de su salida</p>
                <google-map *ngIf="showMap2" height="400px" width="100%" [center]="destinationCenter"
                    [zoom]="destinationZoom" (mapClick)="onMapClick($event, 'destination')">
                    <map-marker *ngIf="destinationLocation" [position]="destinationLocation"></map-marker>
                </google-map>
            </div>
        </form>

        <!-- Formulario de Identificación del Auto -->
        <form [formGroup]="formStep2" *ngIf="currentStep === 2" (ngSubmit)="submitForm()">
            <h1 style="font-size: 25px;">Identificación del auto</h1>
            <div class="steps">
                <div class="step">1</div>
                <div class="line"></div>
                <div class="step active">2</div>
            </div>
            <div class="mb-6">
                <input
                    class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                    id="brand" type="text" formControlName="brand" placeholder="Marca del auto" required>
            </div>
            <div class="mb-6">
                <input
                    class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                    id="model" type="text" formControlName="model" placeholder="Modelo del auto" required>
            </div>
            <div class="pasajeros-pagar">
                <div class="pagar-container centrado-vertical" style="margin-right: 5px;">
                    <input
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="plateNumber" type="text" formControlName="plateNumber" placeholder="Número de placa"
                        required>
                </div>
                <div class="pagar-container centrado-vertical" style="margin-left: 5px;">
                    <input
                        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                        id="dni" type="text" formControlName="dni" placeholder="DNI" required>
                </div>
            </div>
            <div>
                <button class="publicar-button" [disabled]="formStep2.invalid" style="margin-top: 30px;" type="submit">
                    Enviar </button>
            </div>
        </form>
    </div>
</section>